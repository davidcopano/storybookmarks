{% trans_default_domain 'FOSUserBundle' %}

<section class="h-100" id="profile-show">
    <div class="container h-100">
        <div class="row justify-content-md-center h-100">
            <div class="card-wrapper">
                <div class="brand">
                    <h1 class="text-center text-primary">
                        <a href="{{ path('bookmarks_list') }}">storybookmarks</a>
                    </h1>
                </div>
                <div class="card fat">
                    <div class="card-body">
                        <h2 class="text-center">
                            <i class="fas fa-user-alt"></i>
                        </h2>
                        <h4 class="card-title text-center">{{ user.username }}</h4>
                        <hr>
                        <p class="text-center">
                            <i class="fas fa-envelope pr-1"></i> {{ user.email }}
                        </p>
                        <a href="{{ path('fos_user_profile_edit') }}" class="float-left">{{ 'profile.edit.submit'|trans }}</a>
                        <a href="#" @click="closeSession()" class="float-right">
                            <i class="fas fa-power-off"></i>
                            {{ 'layout.logout'|trans }}
                        </a>
                    </div>
                </div>
                <div class="footer">
                    <span class="copyleft">&copy;</span> {{ 'now'|date('Y') }} - storybookmarks
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const profileShow = new Vue({
            el: '#profile-show',
            methods: {
                closeSession: function () {
                    Swal.fire({
                        title: '{{ 'navbar.logged_user.logout.title'|trans }}',
                        text: '{{ 'navbar.logged_user.logout.text'|trans }}',
                        icon: 'warning',
                        showCancelButton: true,
                        cancelButtonText: '{{ 'navbar.logged_user.logout.cancel'|trans }}',
                        cancelButtonColor: '#247ba0',
                        confirmButtonColor: '#ff1654',
                        confirmButtonText: '{{ 'navbar.logged_user.logout.title'|trans }}'
                    }).then((result) => {
                        if (result.value) {
                            location.replace('{{ path('fos_user_security_logout') }}')
                        }
                    })
                }
            }
        })
    })
</script>
